[{"C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\index.js":"1","C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\App.js":"2","C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\components\\Login.js":"3","C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\components\\Navbar.js":"4","C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\components\\Decoration.js":"5","C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\components\\OneDecoration.js":"6","C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\components\\AddDecoration.js":"7","C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\components\\UserReservation.js":"8","C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\components\\Reservation.js":"9","C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\components\\Home.js":"10","C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\components\\SignUp.js":"11","C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\UploadForm.js":"12","C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\ProgressBar.js":"13","C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\useStorage.js":"14","C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\Firebase\\Config.js":"15"},{"size":345,"mtime":1642686347971,"results":"16","hashOfConfig":"17"},{"size":2097,"mtime":1642694849155,"results":"18","hashOfConfig":"17"},{"size":2370,"mtime":1642686347967,"results":"19","hashOfConfig":"17"},{"size":1825,"mtime":1642694470149,"results":"20","hashOfConfig":"17"},{"size":2250,"mtime":1642686347966,"results":"21","hashOfConfig":"17"},{"size":5789,"mtime":1642686966259,"results":"22","hashOfConfig":"17"},{"size":1693,"mtime":1642686347965,"results":"23","hashOfConfig":"17"},{"size":1812,"mtime":1642686347970,"results":"24","hashOfConfig":"17"},{"size":1735,"mtime":1642686347969,"results":"25","hashOfConfig":"17"},{"size":1203,"mtime":1642686347966,"results":"26","hashOfConfig":"17"},{"size":2387,"mtime":1642686347970,"results":"27","hashOfConfig":"17"},{"size":1016,"mtime":1642686347947,"results":"28","hashOfConfig":"17"},{"size":443,"mtime":1642686347946,"results":"29","hashOfConfig":"17"},{"size":794,"mtime":1642686347971,"results":"30","hashOfConfig":"17"},{"size":630,"mtime":1642686347946,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"192fy4w",{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42"},{"filePath":"43","messages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45"},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60"},{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65"},"C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\index.js",[],"C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\App.js",[],"C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\components\\Login.js",[],"C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\components\\Navbar.js",[],"C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\components\\Decoration.js",["66"],"import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport \"./Decoration.css\"\r\nexport default function Decoration({ token, user }) {\r\n  const history = useHistory()\r\n  const [data, setData] = useState([]);\r\n  const [search , setsearch] = useState(\"\");\r\n\r\n  const newsearch = (e) => {\r\n    setsearch(e.target.value)\r\n  }\r\n  \r\n  useEffect(() => {\r\n    const getData = async () => {\r\n      // console.log(token,\"kkkkkk\");\r\n      if(token){\r\n        const response = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/decoration`, { headers: { authorization: `Bearer ${token}` } })\r\n        setData(response.data);\r\n        // console.log(respone.data);\r\n      }else{\r\n        history.push('/login')\r\n      }\r\n    }\r\n    getData();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n\r\n  const searchd = ()=> {\r\n    const searchd= data.filter((element) => {\r\n      if (element.name.toLowerCase().includes(search.toLocaleLowerCase())) {\r\n        return element;\r\n      }\r\n      console.log(element);\r\n    });\r\n    setData(searchd);\r\n    return searchd;\r\n  };\r\n \r\n\r\n\r\n  return (\r\n    <>\r\n   <input placeholder=\"Search\" type=\"text\" className=\" col-sm-3 width=100px \" onChange={(e)=> newsearch(e)} />\r\n      <button  className=\"searchInput w-60 border-0 px-4 py-2\"onClick={()=>searchd()}>search</button>   \r\n          \r\n    <div class=\"container\">\r\n          <div class=\"row\"  >\r\n            \r\n        {data.map((element, i) => {\r\n            return (\r\n              // https://getbootstrap.com/docs/5.1/components/card/\r\n                <div key={element._id} className=\"card m-2\" style={{width: 300}}>\r\n                  <img id=\"as\"src={element.img} className=\"card-img-top\" alt=\"\" width=\"350\" height=\"350\"/>\r\n                  <div className=\"card-body\">\r\n                    <h5 className=\"card-title\">{element.name}</h5>\r\n                    <p className=\"card-text\">{element.description}</p>\r\n                    <Link className=\"btn btn-primary\" to={`/decoration/${element._id}`} >Open</Link>\r\n\r\n                  </div>\r\n                </div>\r\n              \r\n            )\r\n          })\r\n          \r\n        }\r\n\r\n      </div>\r\n    </div>\r\n\r\n    </>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n","C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\components\\OneDecoration.js",["67","68","69"],"import {useEffect, useState} from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\n\r\nfunction OneDecoration({token, user}) {\r\n    const { id } = useParams();\r\n    //console.log(id);\r\n\r\n    const [decorationId, setDecorationId] = useState('')\r\n    const [name, setName] = useState('')\r\n    const [description, setDescription] = useState('')\r\n    const [price, setPrice] = useState(0)\r\n    const [img, setImg] = useState('')\r\n\r\n\r\n    const [reservation, setReservation] = useState(null);\r\n\r\n    const history = useHistory();\r\n\r\n    useEffect(()=> {\r\n      // console.log('use effect')\r\n      const getOneDecoration = async ()=>{\r\n          if(token){\r\n            // console.log(\"kkkkkk\");\r\n            const response = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/decoration/${id}`, { headers: { authorization: `Bearer ${token}` } });\r\n            // console.log(response.data);\r\n            setDecorationId(response.data.oneDecoration._id);\r\n            setName(response.data.oneDecoration.name);\r\n            setDescription(response.data.oneDecoration.description);\r\n            setImg(response.data.oneDecoration.img);\r\n            setPrice(response.data.oneDecoration.price);\r\n\r\n            setReservation(response.data.reservation);\r\n            \r\n          }else{\r\n            history.push('/login');\r\n          }\r\n      }\r\n        getOneDecoration();\r\n    }, []);\r\n\r\n\r\n\r\n    const postReserve = async () => {\r\n      // console.log(decorationId, user._id)\r\n        try {\r\n      \r\n          const response = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/reservation`, {\r\n            decorationId: decorationId,\r\n            userId: user._id,\r\n            date: new Date()\r\n          },\r\n            { headers: { authorization: `Bearer ${token}` } }\r\n          )\r\n          // console.log(response)\r\n          history.push(`/reservation/user/view`)\r\n        } catch (error) {\r\n          console.log(error)\r\n        }\r\n    }\r\n\r\n    const cancelReservation = async () => {\r\n        try {\r\n  \r\n          const response = await axios.delete(`${process.env.REACT_APP_BACKEND_URL}/reservation/${reservation._id}`,\r\n            { headers: { authorization: `Bearer ${token}` } }\r\n          )\r\n          // console.log(response)\r\n          history.push('/decoration')\r\n        } catch (error) {\r\n          console.log(error)\r\n        }\r\n    }\r\n\r\n\r\n    // admin functions\r\n    const updateDecoration = async ()=>{\r\n      try {\r\n        const response = await axios.put(`${process.env.REACT_APP_BACKEND_URL}/decoration`,{\r\n          id: decorationId,\r\n          name,\r\n          description,\r\n          img,\r\n          price\r\n        },\r\n        {headers: {authorization: `Bearer ${token}`}}\r\n        )\r\n        if(response.status===201){\r\n          // show alert update done\r\n          alert(`Decoration : ${name} updated successfully`)\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n    const deleteDecoration = async ()=>{\r\n      try {\r\n        const response = await axios.delete(`${process.env.REACT_APP_BACKEND_URL}/decoration/${decorationId}`,\r\n        {headers: {authorization: `Bearer ${token}`}}\r\n        )\r\n        if(response.status===201){\r\n          // show alert update done\r\n          alert(`Decoration : ${response.data.name} deleted successfully with all reservations`)\r\n          history.push('/decoration')\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n \r\n    return (\r\n        <div className='container'>\r\n                {user.isAdmin ?\r\n                  <div className=\"card m-2\" style={{width: 300}}>\r\n                    <img src={img} className=\"card-img-top\" alt=\"\" />\r\n                    <div className=\"card-body\">\r\n                      <h3>Update Decoration</h3>\r\n                      <h5 className=\"card-title\">Name: {name}</h5>\r\n                      <p className=\"card-text\">Description: {description}</p>\r\n                      <p className=\"card-text\">Price: {price} SR</p>\r\n                      <input type=\"text\" className=\"form-control mb-2\" placeholder='Name' onChange={(e)=> setName(e.target.value)} />\r\n                      <input type=\"text\" className=\"form-control mb-2\" placeholder='Decoration' onChange={(e)=> setDescription(e.target.value)} />\r\n                      <input type=\"text\" className=\"form-control mb-2\" placeholder='Image URL' onChange={(e)=> setImg(e.target.value)} />\r\n                      <input type=\"number\" className=\"form-control mb-2\" placeholder='price' onChange={(e)=> setPrice(e.target.value)} />\r\n                      <button className='btn btn-success m-2' onClick={()=>updateDecoration()}>UPDATE</button>\r\n                      <button className='btn btn-danger' onClick={()=>deleteDecoration()}>DELETE</button>\r\n                    </div>\r\n                  </div>\r\n                  :\r\n                  // https://getbootstrap.com/docs/5.1/components/card/\r\n                  <div className=\"card m-2\" style={{width: 300}}>\r\n                    <img src={img} className=\"card-img-top\" alt=\"\" />\r\n                    <div className=\"card-body\">\r\n                      <h5 className=\"card-title\">{name}</h5>\r\n                      <p className=\"card-text\">{description}</p>\r\n                      <p className=\"card-text\">{price} SR</p>\r\n                      {reservation ? \r\n                        <button className='btn btn-dark' onClick={ ()=>cancelReservation() }>CANCEL</button> \r\n                        :\r\n                        <button className='btn btn-info' onClick={ ()=>postReserve() }>RESERVE</button>\r\n                      }\r\n                    </div>\r\n                  </div>\r\n                }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OneDecoration\r\n","C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\components\\AddDecoration.js",[],"C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\components\\UserReservation.js",[],"C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\components\\Reservation.js",[],"C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\components\\Home.js",[],"C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\components\\SignUp.js",[],"C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\UploadForm.js",[],"C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\ProgressBar.js",["70"],"import React, { useEffect } from 'react';\r\nimport useStorage from './useStorage';\r\n\r\nconst ProgressBar = ({ file, setFile,setImg}) => {\r\n  const { progress, url } = useStorage(file);\r\n\r\n  useEffect(() => {\r\n    if (url) {\r\n      console.log(url);\r\n      setFile(null);\r\n      setImg(url)\r\n      // console.log(url) \r\n    }\r\n  }, [url, setFile]);\r\n\r\n  return (\r\n    <div>\r\n      {progress} %\r\n    </div>\r\n  );\r\n} \r\n\r\nexport default ProgressBar;","C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\useStorage.js",[],"C:\\Users\\laser\\Desktop\\fronting-amirah\\src\\Firebase\\Config.js",["71"],"import * as firebase from 'firebase/app';\r\nimport 'firebase/storage';\r\nimport 'firebase/firestore';\r\n\r\n    const firebaseConfig = {\r\n      apiKey: \"AIzaSyBeLx9MvpBu6YRkaIvReW0cKNwW6yfQmvQ\",\r\n      authDomain: \"decoration-8a212.firebaseapp.com\",\r\n      projectId: \"decoration-8a212\",\r\n      storageBucket: \"decoration-8a212.appspot.com\",\r\n      messagingSenderId: \"228341862046\",\r\n      appId: \"1:228341862046:web:af626fa868e1165410b58f\"\r\n    };\r\n    \r\n// Initialize Firebase\r\n  const app = firebase.initializeApp(firebaseConfig);\r\n\r\n  \r\n  const base = firebase.storage() ;\r\n  const A = firebase.firestore();\r\n\r\n  export  {base,A};",{"ruleId":"72","severity":1,"message":"73","line":31,"column":42,"nodeType":"74","messageId":"75","endLine":31,"endColumn":44},{"ruleId":"76","severity":1,"message":"77","line":41,"column":8,"nodeType":"78","endLine":41,"endColumn":10,"suggestions":"79"},{"ruleId":"80","severity":1,"message":"81","line":49,"column":17,"nodeType":"82","messageId":"83","endLine":49,"endColumn":25},{"ruleId":"80","severity":1,"message":"81","line":66,"column":17,"nodeType":"82","messageId":"83","endLine":66,"endColumn":25},{"ruleId":"76","severity":1,"message":"84","line":14,"column":6,"nodeType":"78","endLine":14,"endColumn":20,"suggestions":"85"},{"ruleId":"80","severity":1,"message":"86","line":15,"column":9,"nodeType":"82","messageId":"83","endLine":15,"endColumn":12},"array-callback-return","Array.prototype.filter() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'history', 'id', and 'token'. Either include them or remove the dependency array.","ArrayExpression",["87"],"no-unused-vars","'response' is assigned a value but never used.","Identifier","unusedVar","React Hook useEffect has a missing dependency: 'setImg'. Either include it or remove the dependency array. If 'setImg' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["88"],"'app' is assigned a value but never used.",{"desc":"89","fix":"90"},{"desc":"91","fix":"92"},"Update the dependencies array to be: [history, id, token]",{"range":"93","text":"94"},"Update the dependencies array to be: [url, setFile, setImg]",{"range":"95","text":"96"},[1424,1426],"[history, id, token]",[329,343],"[url, setFile, setImg]"]