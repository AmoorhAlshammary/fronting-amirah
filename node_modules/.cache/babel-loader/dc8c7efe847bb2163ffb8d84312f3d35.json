{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\laser\\\\Desktop\\\\fronting-amirah\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\laser\\\\Desktop\\\\fronting-amirah\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\laser\\\\Desktop\\\\fronting-amirah\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{Link,useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Reservation(_ref){var token=_ref.token,user=_ref.user;var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){var getData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!token){_context.next=8;break;}_context.next=3;return axios.get(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/reservation\"),{headers:{authorization:\"Bearer \".concat(token)}});case 3:response=_context.sent;setData(response.data);console.log(response.data);_context.next=9;break;case 8:history.push('/login');case 9:case\"end\":return _context.stop();}}},_callee);}));return function getData(){return _ref2.apply(this,arguments);};}();getData();// eslint-disable-next-line\n},[]);return/*#__PURE__*/ (// https://getbootstrap.com/docs/5.1/utilities/spacing/\n// https://getbootstrap.com/docs/5.1/layout/grid/\n_jsx(\"div\",{class:\"container mt-5 pt-5\",children:/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:data.map(function(element,i){return/*#__PURE__*/ (// https://getbootstrap.com/docs/5.1/components/card/\n_jsxs(\"div\",{className:\"card m-2\",style:{width:350},children:[/*#__PURE__*/_jsx(\"img\",{id:\"rs\",src:element.decoration.img,className:\"card-img-top\",alt:\" \",width:\"350\",height:\"350\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:element.decoration.name}),/*#__PURE__*/_jsx(Link,{className:\"btn btn-primary\",to:\"/decoration/\".concat(element.decoration._id),children:\"Open\"})]})]},element._id));})})}));}","map":{"version":3,"sources":["C:/Users/laser/Desktop/fronting-amirah/src/components/Reservation.js"],"names":["React","useState","useEffect","axios","Link","useHistory","Reservation","token","user","history","data","setData","getData","get","process","env","REACT_APP_BACKEND_URL","headers","authorization","response","console","log","push","map","element","i","width","decoration","img","name","_id"],"mappings":"oZAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,C,wFAGA,cAAe,SAASC,CAAAA,WAAT,MAAqC,IAAdC,CAAAA,KAAc,MAAdA,KAAc,CAAPC,IAAO,MAAPA,IAAO,CAClD,GAAMC,CAAAA,OAAO,CAAGJ,UAAU,EAA1B,CACA,cAAwBJ,QAAQ,CAAC,EAAD,CAAhC,wCAAOS,IAAP,eAAaC,OAAb,eAEAT,SAAS,CAAC,UAAM,CACd,GAAMU,CAAAA,OAAO,2FAAG,oJAEXL,KAFW,+CAGWJ,CAAAA,KAAK,CAACU,GAAN,WAAaC,OAAO,CAACC,GAAR,CAAYC,qBAAzB,iBAA8D,CAAEC,OAAO,CAAE,CAAEC,aAAa,kBAAYX,KAAZ,CAAf,CAAX,CAA9D,CAHX,QAGNY,QAHM,eAIZR,OAAO,CAACQ,QAAQ,CAACT,IAAV,CAAP,CAEAU,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACT,IAArB,EANY,6BAQZD,OAAO,CAACa,IAAR,CAAa,QAAb,EARY,sDAAH,kBAAPV,CAAAA,OAAO,2CAAb,CAWAA,OAAO,GACP;AACD,CAdQ,CAcN,EAdM,CAAT,CAqBA,oBACG;AACC;AACA,YAAK,KAAK,CAAC,qBAAX,uBACE,YAAK,KAAK,CAAC,KAAX,UACGF,IAAI,CAACa,GAAL,CAAS,SAACC,OAAD,CAAUC,CAAV,CAAgB,CACtB,oBACE;AAEE,aAAuB,SAAS,CAAC,UAAjC,CAA4C,KAAK,CAAE,CAACC,KAAK,CAAE,GAAR,CAAnD,wBACE,YAAK,EAAE,CAAC,IAAR,CAAY,GAAG,CAAEF,OAAO,CAACG,UAAR,CAAmBC,GAApC,CAAyC,SAAS,CAAC,cAAnD,CAAkE,GAAG,CAAC,GAAtE,CAA0E,KAAK,CAAC,KAAhF,CAAsF,MAAM,CAAC,KAA7F,EADF,cAEE,aAAK,SAAS,CAAC,WAAf,wBACE,WAAI,SAAS,CAAC,YAAd,UAA4BJ,OAAO,CAACG,UAAR,CAAmBE,IAA/C,EADF,cAEE,KAAC,IAAD,EAAM,SAAS,CAAC,iBAAhB,CAAkC,EAAE,uBAAiBL,OAAO,CAACG,UAAR,CAAmBG,GAApC,CAApC,kBAFF,GAFF,GAAUN,OAAO,CAACM,GAAlB,CAHJ,EAcD,CAfF,CADH,EADF,EAHJ,EA2BD","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\n\r\nexport default function Reservation({ token ,user}) {\r\n  const history = useHistory()\r\n  const [data, setData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getData = async () => {\r\n      // console.log(token,\"kkkkkk\");\r\n      if(token){\r\n        const response = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/reservation`, { headers: { authorization: `Bearer ${token}` } })\r\n        setData(response.data);\r\n\r\n        console.log(response.data);\r\n      }else{\r\n        history.push('/login')\r\n      }\r\n    }\r\n    getData();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n\r\n\r\n \r\n\r\n\r\n  return (\r\n     // https://getbootstrap.com/docs/5.1/utilities/spacing/\r\n      // https://getbootstrap.com/docs/5.1/layout/grid/\r\n      <div class=\"container mt-5 pt-5\">\r\n        <div class=\"row\">\r\n          {data.map((element, i) => {\r\n              return (\r\n                // https://getbootstrap.com/docs/5.1/components/card/\r\n               \r\n                  <div key={element._id} className=\"card m-2\" style={{width: 350}}>\r\n                    <img id=\"rs\"src={element.decoration.img} className=\"card-img-top\" alt=\" \" width=\"350\" height=\"350\" />\r\n                    <div className=\"card-body\">\r\n                      <h5 className=\"card-title\">{element.decoration.name}</h5>\r\n                      <Link className=\"btn btn-primary\" to={`/decoration/${element.decoration._id}`} >Open</Link>\r\n                \r\n                    </div>\r\n\r\n                  </div>\r\n                  \r\n              )\r\n            })\r\n          }\r\n        \r\n        </div>\r\n      </div>\r\n\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}