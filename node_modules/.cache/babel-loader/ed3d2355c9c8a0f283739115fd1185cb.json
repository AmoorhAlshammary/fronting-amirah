{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\laser\\\\Desktop\\\\fronting-amirah\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\laser\\\\Desktop\\\\fronting-amirah\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\laser\\\\Desktop\\\\fronting-amirah\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from\"react\";import{useHistory}from\"react-router-dom\";import axios from\"axios\";import'./Login.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(_ref){var setToken=_ref.setToken,setUser=_ref.setUser;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];// you can use variable instded of state in this  case\nvar history=useHistory();var changeEmail=function changeEmail(e){setEmail(e.target.value);};var changePassword=function changePassword(e){setPassword(e.target.value);};var checkLogin=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/login\"),{email:email,password:password});case 3:response=_context.sent;//console.log(response.data);// data : token:'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiO…yMDF9.BYkEVZv8cZdVUVNDCgv8IRd9r85ex8nDIvJzX2uDdfk', user: {};\nif(response.status===200){// جايه من الريكوست اللي راح لسيرفر\n//  localStorage.setItem(\"token\",JSON.stringify(response.data.token))\nsetToken(response.data.token);setUser(response.data.user);console.log(response.data,\"data\");history.push(\"/decoration\");}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0.response);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function checkLogin(){return _ref2.apply(this,arguments);};}();// https://getbootstrap.com/docs/5.1/forms/form-control/\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"container\",id:\"containerlog\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"LOGIN ...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 row\",id:\"containerlo\",children:[/*#__PURE__*/_jsx(\"label\",{HTMLFor:\"staticEmail\",className:\"col-sm-2 col-form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",onChange:function onChange(e){changeEmail(e);},className:\"form-control\",id:\"staticEmail\",placeholder:\"enter your email\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 row\",id:\"containerl\",children:[/*#__PURE__*/_jsx(\"label\",{HTMLFor:\"inputPassword\",className:\"col-sm-2 col-form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:function onChange(e){changePassword(e);},className:\"form-control\",id:\"inputPassword\",placeholder:\"enter password\"})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mb-3\",id:\"containerl2\",onClick:function onClick(){checkLogin();},children:\"Login\"})]});}","map":{"version":3,"sources":["C:/Users/laser/Desktop/fronting-amirah/src/components/Login.js"],"names":["React","useState","useHistory","axios","Login","setToken","setUser","email","setEmail","password","setPassword","history","changeEmail","e","target","value","changePassword","checkLogin","post","process","env","REACT_APP_BACKEND_URL","response","status","data","token","user","console","log","push"],"mappings":"oZAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,aAAP,C,wFAEA,cAAe,SAASC,CAAAA,KAAT,MAAoC,IAApBC,CAAAA,QAAoB,MAApBA,QAAoB,CAAVC,OAAU,MAAVA,OAAU,CACjD,cAA0BL,QAAQ,CAAC,EAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eACA,eAAgCP,QAAQ,CAAC,EAAD,CAAxC,yCAAOQ,QAAP,eAAiBC,WAAjB,eACA;AACA,GAAMC,CAAAA,OAAO,CAAGT,UAAU,EAA1B,CACA,GAAMU,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,CAAD,CAAO,CACzBL,QAAQ,CAACK,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR,CACD,CAFD,CAGA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACH,CAAD,CAAO,CAC5BH,WAAW,CAACG,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CACD,CAFD,CAIA,GAAME,CAAAA,UAAU,2FAAG,sLAEQd,CAAAA,KAAK,CAACe,IAAN,WAAcC,OAAO,CAACC,GAAR,CAAYC,qBAA1B,WAAyD,CAC9Ed,KAAK,CAALA,KAD8E,CAE9EE,QAAQ,CAARA,QAF8E,CAAzD,CAFR,QAETa,QAFS,eAMf;AACF,GAAGA,QAAQ,CAACC,MAAT,GAAkB,GAArB,CAA0B,CACvB;AACD;AACClB,QAAQ,CAACiB,QAAQ,CAACE,IAAT,CAAcC,KAAf,CAAR,CACDnB,OAAO,CAACgB,QAAQ,CAACE,IAAT,CAAcE,IAAf,CAAP,CACCC,OAAO,CAACC,GAAR,CAAYN,QAAQ,CAACE,IAArB,CAA0B,MAA1B,EACAb,OAAO,CAACkB,IAAR,CAAa,aAAb,EACF,CAdgB,+EAgBfF,OAAO,CAACC,GAAR,CAAY,YAAMN,QAAlB,EAhBe,oEAAH,kBAAVL,CAAAA,UAAU,2CAAhB,CAmBA;AACA,mBACE,aAAK,SAAS,CAAC,WAAf,CAA2B,EAAE,CAAC,cAA9B,wBACE,iCADF,cAEE,aAAK,SAAS,CAAC,UAAf,CAA0B,EAAE,CAAC,aAA7B,wBACE,cAAO,OAAO,CAAC,aAAf,CAA6B,SAAS,CAAC,yBAAvC,mBADF,cAEE,YAAK,SAAS,CAAC,UAAf,uBACE,cAAO,IAAI,CAAC,OAAZ,CAAoB,QAAQ,CAAE,kBAACJ,CAAD,CAAM,CAACD,WAAW,CAACC,CAAD,CAAX,CAAe,CAApD,CAAsD,SAAS,CAAC,cAAhE,CAA+E,EAAE,CAAC,aAAlF,CAAgG,WAAW,CAAC,kBAA5G,EADF,EAFF,GAFF,cAQE,aAAK,SAAS,CAAC,UAAf,CAA0B,EAAE,CAAC,YAA7B,wBACE,cAAO,OAAO,CAAC,eAAf,CAA+B,SAAS,CAAC,yBAAzC,sBADF,cAEE,YAAK,SAAS,CAAC,UAAf,uBACE,cAAO,IAAI,CAAC,UAAZ,CAAuB,QAAQ,CAAE,kBAACA,CAAD,CAAM,CAACG,cAAc,CAACH,CAAD,CAAd,CAAkB,CAA1D,CAA4D,SAAS,CAAC,cAAtE,CAAqF,EAAE,CAAC,eAAxF,CAAwG,WAAW,CAAC,gBAApH,EADF,EAFF,GARF,cAcE,eAAQ,SAAS,CAAC,sBAAlB,CAAyC,EAAE,CAAC,aAA5C,CACI,OAAO,CAAE,kBAAM,CACbI,UAAU,GACX,CAHL,mBAdF,GADF,CAyBD","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport './Login.css';\r\n\r\nexport default function Login({setToken, setUser}) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  // you can use variable instded of state in this  case\r\n  const history = useHistory(); \r\n  const changeEmail = (e) => {\r\n    setEmail(e.target.value);\r\n  };\r\n  const changePassword = (e) => {\r\n    setPassword(e.target.value);\r\n  };\r\n\r\n  const checkLogin = async () => {\r\n    try {\r\n      const response = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/login`, {\r\n        email,\r\n        password,\r\n      });\r\n      //console.log(response.data);// data : token:'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiO…yMDF9.BYkEVZv8cZdVUVNDCgv8IRd9r85ex8nDIvJzX2uDdfk', user: {};\r\n    if(response.status===200) {\r\n       // جايه من الريكوست اللي راح لسيرفر\r\n      //  localStorage.setItem(\"token\",JSON.stringify(response.data.token))\r\n       setToken(response.data.token);\r\n      setUser(response.data.user);\r\n       console.log(response.data,\"data\")\r\n       history.push(\"/decoration\");\r\n    }                        \r\n    } catch (error) {\r\n      console.log(error.response);\r\n    }\r\n  };\r\n  // https://getbootstrap.com/docs/5.1/forms/form-control/\r\n  return (\r\n    <div className=\"container\" id=\"containerlog\">\r\n      <h2>LOGIN ...</h2>\r\n      <div className=\"mb-3 row\" id=\"containerlo\">\r\n        <label HTMLFor=\"staticEmail\" className=\"col-sm-2 col-form-label\">Email</label>\r\n        <div className=\"col-sm-3\">\r\n          <input type=\"email\" onChange={(e)=> {changeEmail(e)}} className=\"form-control\" id=\"staticEmail\" placeholder=\"enter your email\" />\r\n        </div>\r\n      </div>\r\n      <div className=\"mb-3 row\" id=\"containerl\">\r\n        <label HTMLFor=\"inputPassword\" className=\"col-sm-2 col-form-label\">Password</label>\r\n        <div className=\"col-sm-3\">\r\n          <input type=\"password\" onChange={(e)=> {changePassword(e)}} className=\"form-control\" id=\"inputPassword\" placeholder=\"enter password\" />\r\n        </div>\r\n      </div>\r\n      <button className=\"btn btn-primary mb-3\" id=\"containerl2\"\r\n          onClick={() => {\r\n            checkLogin();\r\n          }}\r\n          >\r\n          Login\r\n      </button>\r\n\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}