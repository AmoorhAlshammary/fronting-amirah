{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\laser\\\\Desktop\\\\fronting-amirah\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\laser\\\\Desktop\\\\fronting-amirah\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\laser\\\\Desktop\\\\fronting-amirah\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{Link,useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function UserReservation(_ref){var token=_ref.token,user=_ref.user;var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){var getData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!token){_context.next=13;break;}_context.prev=1;_context.next=4;return axios.get(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/reservation/\").concat(user._id),{headers:{authorization:\"Bearer \".concat(token)}});case 4:response=_context.sent;setData(response.data);//   console.log(response.data);\n_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 11:_context.next=14;break;case 13:history.push('/login');case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function getData(){return _ref2.apply(this,arguments);};}();getData();// eslint-disable-next-line\n},[]);return/*#__PURE__*/ (// https://getbootstrap.com/docs/5.1/utilities/spacing/\n// https://getbootstrap.com/docs/5.1/layout/grid/\n_jsx(\"div\",{class:\"container mt-5 pt-5\",children:/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:data.map(function(element,i){return/*#__PURE__*/ (// https://getbootstrap.com/docs/5.1/components/card/\n_jsxs(\"div\",{className:\"card m-2\",style:{width:300},children:[/*#__PURE__*/_jsx(\"img\",{src:element.decoration.img,className:\"card-img-top\",alt:element.decoration.name,width:\"350\",height:\"350\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:element.decoration.name}),/*#__PURE__*/_jsx(Link,{className:\"btn btn-primary\",to:\"/decoration/\".concat(element.decoration._id),children:\"Open\"})]})]},element._id));})})}));}","map":{"version":3,"sources":["C:/Users/laser/Desktop/fronting-amirah/src/components/UserReservation.js"],"names":["React","useState","useEffect","axios","Link","useHistory","UserReservation","token","user","history","data","setData","getData","get","process","env","REACT_APP_BACKEND_URL","_id","headers","authorization","response","console","log","push","map","element","i","width","decoration","img","name"],"mappings":"oZAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,C,wFAGA,cAAe,SAASC,CAAAA,eAAT,MAA0C,IAAfC,CAAAA,KAAe,MAAfA,KAAe,CAARC,IAAQ,MAARA,IAAQ,CACvD,GAAMC,CAAAA,OAAO,CAAGJ,UAAU,EAA1B,CACA,cAAwBJ,QAAQ,CAAC,EAAD,CAAhC,wCAAOS,IAAP,eAAaC,OAAb,eACAT,SAAS,CAAC,UAAM,CACd,GAAMU,CAAAA,OAAO,2FAAG,oJAEXL,KAFW,gEAIiBJ,CAAAA,KAAK,CAACU,GAAN,WAAaC,OAAO,CAACC,GAAR,CAAYC,qBAAzB,yBAA8DR,IAAI,CAACS,GAAnE,EAA0E,CAAEC,OAAO,CAAE,CAAEC,aAAa,kBAAYZ,KAAZ,CAAf,CAAX,CAA1E,CAJjB,QAIAa,QAJA,eAKNT,OAAO,CAACS,QAAQ,CAACV,IAAV,CAAP,CACF;AANQ,+EAQNW,OAAO,CAACC,GAAR,cARM,uCAWZb,OAAO,CAACc,IAAR,CAAa,QAAb,EAXY,oEAAH,kBAAPX,CAAAA,OAAO,2CAAb,CAcAA,OAAO,GACP;AACD,CAjBQ,CAiBN,EAjBM,CAAT,CAwBA,oBACI;AACA;AACA,YAAK,KAAK,CAAC,qBAAX,uBACE,YAAK,KAAK,CAAC,KAAX,UACGF,IAAI,CAACc,GAAL,CAAS,SAACC,OAAD,CAAUC,CAAV,CAAgB,CACtB,oBACE;AACE,aAAuB,SAAS,CAAC,UAAjC,CAA4C,KAAK,CAAE,CAACC,KAAK,CAAE,GAAR,CAAnD,wBACE,YAAK,GAAG,CAAEF,OAAO,CAACG,UAAR,CAAmBC,GAA7B,CAAkC,SAAS,CAAC,cAA5C,CAA2D,GAAG,CAAEJ,OAAO,CAACG,UAAR,CAAmBE,IAAnF,CAA0F,KAAK,CAAC,KAAhG,CAAsG,MAAM,CAAC,KAA7G,EADF,cAEE,aAAK,SAAS,CAAC,WAAf,wBACE,WAAI,SAAS,CAAC,YAAd,UAA4BL,OAAO,CAACG,UAAR,CAAmBE,IAA/C,EADF,cAEE,KAAC,IAAD,EAAM,SAAS,CAAC,iBAAhB,CAAkC,EAAE,uBAAiBL,OAAO,CAACG,UAAR,CAAmBX,GAApC,CAApC,kBAFF,GAFF,GAAUQ,OAAO,CAACR,GAAlB,CAFJ,EAUD,CAXF,CADH,EADF,EAHJ,EAsBD","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\n\r\nexport default function UserReservation({ token, user }) {\r\n  const history = useHistory()\r\n  const [data, setData] = useState([]);\r\n  useEffect(() => {\r\n    const getData = async () => {\r\n      // console.log(token,\"kkkkkk\");\r\n      if(token){\r\n          try {\r\n              const response = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/reservation/${user._id}`, { headers: { authorization: `Bearer ${token}` } })\r\n              setData(response.data);\r\n            //   console.log(response.data);\r\n          } catch (error) {\r\n              console.log(error)\r\n          }\r\n      }else{\r\n        history.push('/login')\r\n      }\r\n    }\r\n    getData();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n\r\n\r\n \r\n\r\n\r\n  return (\r\n      // https://getbootstrap.com/docs/5.1/utilities/spacing/\r\n      // https://getbootstrap.com/docs/5.1/layout/grid/\r\n      <div class=\"container mt-5 pt-5\">\r\n        <div class=\"row\">\r\n          {data.map((element, i) => {\r\n              return (\r\n                // https://getbootstrap.com/docs/5.1/components/card/\r\n                  <div key={element._id} className=\"card m-2\" style={{width: 300}}>\r\n                    <img src={element.decoration.img} className=\"card-img-top\" alt={element.decoration.name}  width=\"350\" height=\"350\" />\r\n                    <div className=\"card-body\">\r\n                      <h5 className=\"card-title\">{element.decoration.name}</h5>\r\n                      <Link className=\"btn btn-primary\" to={`/decoration/${element.decoration._id}`} >Open</Link>\r\n                    </div>\r\n                  </div>\r\n              )\r\n            })\r\n          }\r\n        </div>\r\n      </div>\r\n\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}