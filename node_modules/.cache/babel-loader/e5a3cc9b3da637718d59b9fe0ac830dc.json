{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\laser\\\\Desktop\\\\fronting-amirah\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\laser\\\\Desktop\\\\fronting-amirah\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\laser\\\\Desktop\\\\fronting-amirah\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{Link,useHistory}from\"react-router-dom\";import\"./Decoration.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Decoration(_ref){var token=_ref.token,user=_ref.user;var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setsearch=_useState4[1];var newsearch=function newsearch(e){setsearch(e.target.value);};useEffect(function(){var getData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!token){_context.next=7;break;}_context.next=3;return axios.get(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/decoration\"),{headers:{authorization:\"Bearer \".concat(token)}});case 3:response=_context.sent;setData(response.data);// console.log(respone.data);\n_context.next=8;break;case 7:history.push('/login');case 8:case\"end\":return _context.stop();}}},_callee);}));return function getData(){return _ref2.apply(this,arguments);};}();getData();// eslint-disable-next-line\n},[]);var searchd=function searchd(){var searchd=data.filter(function(element){if(element.name.toLowerCase().includes(search.toLocaleLowerCase())){return element;}console.log(element);});setData(searchd);return searchd;};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Search\",type:\"text\",className:\" col-sm-3 width=100px \",onChange:function onChange(e){return newsearch(e);}}),/*#__PURE__*/_jsx(\"button\",{className:\"searchInput w-60 border-0 px-4 py-2\",onClick:function onClick(){return searchd();},children:\"search\"}),/*#__PURE__*/_jsx(\"div\",{class:\"container\",children:/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:data.map(function(element,i){return/*#__PURE__*/ (// https://getbootstrap.com/docs/5.1/components/card/\n_jsxs(\"div\",{className:\"card m-2\",style:{width:300},children:[/*#__PURE__*/_jsx(\"img\",{id:\"as\",src:element.img,className:\"card-img-top\",alt:\"\",width:\"350\",height:\"350\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:element.name}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:element.description}),/*#__PURE__*/_jsx(Link,{className:\"btn btn-primary\",to:\"/decoration/\".concat(element._id),children:\"Open\"})]})]},element._id));})})})]});}","map":{"version":3,"sources":["C:/Users/laser/Desktop/fronting-amirah/src/components/Decoration.js"],"names":["React","useState","useEffect","axios","Link","useHistory","Decoration","token","user","history","data","setData","search","setsearch","newsearch","e","target","value","getData","get","process","env","REACT_APP_BACKEND_URL","headers","authorization","response","push","searchd","filter","element","name","toLowerCase","includes","toLocaleLowerCase","console","log","map","i","width","img","description","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport \"./Decoration.css\"\r\nexport default function Decoration({ token, user }) {\r\n  const history = useHistory()\r\n  const [data, setData] = useState([]);\r\n  const [search , setsearch] = useState(\"\");\r\n\r\n  const newsearch = (e) => {\r\n    setsearch(e.target.value)\r\n  }\r\n  \r\n  useEffect(() => {\r\n    const getData = async () => {\r\n      // console.log(token,\"kkkkkk\");\r\n      if(token){\r\n        const response = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/decoration`, { headers: { authorization: `Bearer ${token}` } })\r\n        setData(response.data);\r\n        // console.log(respone.data);\r\n      }else{\r\n        history.push('/login')\r\n      }\r\n    }\r\n    getData();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n\r\n  const searchd = ()=> {\r\n    const searchd= data.filter((element) => {\r\n      if (element.name.toLowerCase().includes(search.toLocaleLowerCase())) {\r\n        return element;\r\n      }\r\n      console.log(element);\r\n    });\r\n    setData(searchd);\r\n    return searchd;\r\n  };\r\n \r\n\r\n\r\n  return (\r\n    <>\r\n   <input placeholder=\"Search\" type=\"text\" className=\" col-sm-3 width=100px \" onChange={(e)=> newsearch(e)} />\r\n      <button  className=\"searchInput w-60 border-0 px-4 py-2\"onClick={()=>searchd()}>search</button>   \r\n          \r\n    <div class=\"container\">\r\n          <div class=\"row\"  >\r\n            \r\n        {data.map((element, i) => {\r\n            return (\r\n              // https://getbootstrap.com/docs/5.1/components/card/\r\n                <div key={element._id} className=\"card m-2\" style={{width: 300}}>\r\n                  <img id=\"as\"src={element.img} className=\"card-img-top\" alt=\"\" width=\"350\" height=\"350\"/>\r\n                  <div className=\"card-body\">\r\n                    <h5 className=\"card-title\">{element.name}</h5>\r\n                    <p className=\"card-text\">{element.description}</p>\r\n                    <Link className=\"btn btn-primary\" to={`/decoration/${element._id}`} >Open</Link>\r\n\r\n                  </div>\r\n                </div>\r\n              \r\n            )\r\n          })\r\n          \r\n        }\r\n\r\n      </div>\r\n    </div>\r\n\r\n    </>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}